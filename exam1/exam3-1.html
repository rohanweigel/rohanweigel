<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Exam 1 Chart - Seniors only</title>
        <script type="text/javascript" src="http://localhost:8000/d3.v3.js"></script>
        <script type="text/javascript" src="http://localhost:8000/exam1.json"></script>
        
    </head>
    <body>
        <div>
        <h2>Senior IE Scores at 5 Universities</h2>
        </div>
        <style type = "text/css">
    div.bar {
				display: inline-block;
        margin-left: -50;
			}
            .axis path,
			.axis line {
				fill: none;
				stroke: black;
				shape-rendering: crispEdges;
            }
            .axis text {
				font-family: sans-serif;
				font-size: 11px;
			}
            
            </style>
    </body>
    <svg class="chart"></svg>
    <script src="d3.v3.js"></script>
<script>

var dataset = [90, 91, 46, 100, 92];
    
    d3.select("body").selectAll("div")
    .data(dataset)
    .enter()
    .append("div")
    .attr("class", "bar")
    .style("height", function(d) {
        var barHeight = d * 3;
        return barHeight + "px";
    });
var w = 500,
    h = 500;
    var barPadding = 20;
    var padding = 20;
    
    //x stuff
    var xScale = d3.scale.ordinal()
    .domain(["University A", "University B","University C","University D","University E"])
    .rangeRoundBands([0, w], .1);
    
    var xAxis = d3.svg.axis()
							  .scale(xScale)
							  .orient("bottom")
    //y stuff
    var yScale = d3.scale.linear()
    .domain([0, 100])
    .range([h - padding, 170]);
    
    
    
    var yAxis = d3.svg.axis()
							  .scale(yScale)
							  .orient("left")
							  .ticks(5);
    
    var svg = d3.select("body")
            .append("svg")
            .attr("width", w)
            .attr("height", h);
    
    //bars
    svg.selectAll("rect")
   .data(dataset)
   .enter()
   .append("rect")
   .attr("x", function(d, i) {
			   		return i * (w / dataset.length) + 30;
    })
   .attr("y", function(d) {
    return h - (d * 3) - 30;
    })
   .attr("width", w / dataset.length - barPadding)
    .attr("fill", "blue")
   .attr("height", function(d) {
    return d * 3;
    })
    .attr("fill", function(d) {
					return "rgb(0, 0, " + (d * 10) + ")";
			   });
    //labels
    svg.selectAll("text")
			   .data(dataset)
			   .enter()
			   .append("text")
			   .text(function(d) {
			   		return d;
			   })
			   .attr("x", function(d, i) {
			   		return i * (w / dataset.length) + 56;
			   })
			   .attr("y", function(d) {
			   		return h - (d * 3) + 10;
			   })
			   .attr("font-family", "helvetica")
			   .attr("font-size", "20px")
			   .attr("fill", "white");
    
    //x axis
    svg.append("g")
				.attr("class", "axis")
				.attr("transform", "translate(15," + (h - padding) + ")")
                .attr("x", 10)
				.call(xAxis);
    
    //y axis
    svg.append("g")
				.attr("class", "axis")
				.attr("transform", "translate(" + (padding + 6) + ",0)")
				.call(yAxis)
               .append("text")
                .attr("class", "label")
                .attr("transform", "rotate(-90)")
                .attr("y", 10)
                .attr("x",-150)
                .attr("dy", ".35em")
                .style("text-anchor", "end")
                .text("Scores");
    </script>
</html>